{"meta":{"title":"The Blog Of Ysanyu","subtitle":"ysanyu的个人博客","description":"记录工作中和学习时遇到的疑难杂症","author":"ysanyu","url":"https://ysanyu.github.io","root":"/"},"pages":[{"title":"关于我","date":"2021-07-23T06:45:43.000Z","updated":"2021-07-23T07:37:39.555Z","comments":true,"path":"about.html","permalink":"https://ysanyu.github.io/about.html","excerpt":"","text":"本站基于hexo 脚手架搭建，主题为步步走，全站部署在github"}],"posts":[{"title":"h5表单的安卓适配（监测键盘弹起和收起）","slug":"h5表单的安卓适配（监测键盘弹起和收起）","date":"2021-07-23T07:23:04.000Z","updated":"2021-07-26T06:10:14.778Z","comments":true,"path":"2021/07/23/h5表单的安卓适配（监测键盘弹起和收起）/","link":"","permalink":"https://ysanyu.github.io/2021/07/23/h5%E8%A1%A8%E5%8D%95%E7%9A%84%E5%AE%89%E5%8D%93%E9%80%82%E9%85%8D%EF%BC%88%E7%9B%91%E6%B5%8B%E9%94%AE%E7%9B%98%E5%BC%B9%E8%B5%B7%E5%92%8C%E6%94%B6%E8%B5%B7%EF%BC%89/","excerpt":"在移动端开发中提交表单，苹果端显示正常，但是在安卓上显示异常，顶起键盘会让输入框顶到莫名其妙的位置。本文旨在解决这种怪异的样式问题。&emsp;&emsp;","text":"在移动端开发中提交表单，苹果端显示正常，但是在安卓上显示异常，顶起键盘会让输入框顶到莫名其妙的位置。本文旨在解决这种怪异的样式问题。&emsp;&emsp; 定义初始高度1234567data()&#123; return &#123; screenHeight: document.body.clientHeight, // 这里是给到了一个默认值 originHeight: document.body.clientHeight, // 默认高度在watch里拿来做比较 isOriginHei: true // 这个属性是固定定位按钮的显隐开关(需要就加，不需要隐藏） &#125;&#125; created里面判断类型1234567891011const ua = navigator.userAgent;const self = this;if (ua.indexOf(&quot;Android&quot;) &gt; -1 || ua.indexOf(&quot;Adr&quot;) &gt; -1) &#123; this.platform = &quot;android&quot;; window.onresize = () =&gt; &#123; return (() =&gt; &#123; // 获取视图变化时屏幕高度 self.screenHeight = document.body.clientHeight; &#125;)(); &#125;; &#125; watch监听视图变化123456789101112131415161718192021watch: &#123; screenHeight(val) &#123; // 判断软键盘弹出，收起 const that = this; if (this.originHeight - val &gt; 50) &#123; // 键盘弹出 that.$nextTick(() =&gt; &#123; const y = that.$refs[that.dom].offsetTop - 80; document.body.scrollTop = y; document.documentElement.scrollTop = y; window.scrollTo(0, y); &#125;); &#125; else &#123; // 键盘收起 document.body.scrollTop = 0; document.documentElement.scrollTop = 0; window.scrollTo(0, 0); &#125; &#125;&#125;","categories":[{"name":"vue","slug":"vue","permalink":"https://ysanyu.github.io/categories/vue/"},{"name":"移动端","slug":"移动端","permalink":"https://ysanyu.github.io/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://ysanyu.github.io/tags/vue/"},{"name":"移动端","slug":"移动端","permalink":"https://ysanyu.github.io/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"}]}],"categories":[{"name":"vue","slug":"vue","permalink":"https://ysanyu.github.io/categories/vue/"},{"name":"移动端","slug":"移动端","permalink":"https://ysanyu.github.io/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://ysanyu.github.io/tags/vue/"},{"name":"移动端","slug":"移动端","permalink":"https://ysanyu.github.io/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"}]}